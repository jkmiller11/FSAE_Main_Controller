<HTML>
<pre>/*<br> *######################################################################<br> *                                RAppIDJDP<br> *           Rapid Application Initialization and Documentation Tool<br> *                         Freescale Semiconductor Inc.<br> *<br> *######################################################################<br> *<br> * Project Name           : fsae_main_controller<br> *<br> * Project File           : fsae_main_controller.rsp<br> *<br> * Revision Number        : 1.0<br> *<br> * Tool Version           : 1.3.1.6<br> *<br> * file                   : msr_init.c<br> *<br> * Target Compiler        : Codewarrior<br> *<br> * Target Part            : MPC5604B<br> *<br> * Part Errata Fixes      : none<br> *<br> * Project Last Save Date : 06-Jun-2013 02:49:54<br> *<br> * Created on Date        : 06-Jun-2013 02:49:57<br> *<br> * Brief Description      : This File contain function declaration for SPR code file<br> *<br> ******************************************************************************** <br> *<br> * Detail Description     : This file contains declaration of function which<br> *                         configures machine state register which is used to<br> *                         define state of the processor.It also configures<br> *                         hardware implementation dependent register which is<br> *                         used for various configuration and control functions.<br> *<br> ******************************************************************************** <br> *<br> *######################################################################<br>*/<br><br> <br> <br>/********************  Dependent Include files here **********************/<br><br>#include "msr_init.h"<br><br>/*********************  Initialization Function(s) ************************/<br><br>asm void msr_init_fnc (void)<br>{<br><br><br>/* ----------------------------------------------------------- */<br><br>/*   Machine State Setup                     */<br><br>/* ----------------------------------------------------------- */<br><br><br>/* ----------------------------------------------------------- */<br>/*	                  MSR Setup                                */<br>/* ----------------------------------------------------------- */<br>   e_lis r12, 0x0000<br>         /* Load upper 16 bits of register value    */<br>         /* Execution of SPE APU vector instructions : Disabled    */<br>         /* Critical Interrupt : Disabled    */<br>         /* Wait State : Disabled    */<br>   e_or2i r12,0x0000<br>         /* Load lower 16 bits of register value    */<br>         /* External Interrupt : Disabled    */<br>         /* Problem State : Disabled    */<br>         /* FP available : Disabled    */<br>         /* Machine Check : Disabled    */<br>         /* Debug Interrupt : Disabled    */<br>         /* Instruction Address Space : Disabled    */<br>         /* Data Address Space : Disabled    */<br>         /* Recoverable Interrupt : Disabled    */<br>   mtmsr r12<br>         /* Move data to MSR register    */<br><br>/* ----------------------------------------------------------- */<br>/*	                  HID0 Setup                               */<br>/* ----------------------------------------------------------- */<br>   e_lis r12, 0x0000<br>         /* Load upper 16 bits of register value    */<br>   e_or2i r12,0x0000<br>         /* Load lower 16 bits of register value    */<br>   mtspr 1008,r12<br>         /* Move data to HID0 register    */<br>         /* Debug Interrupt Clears (DCLREE) : Disabled    */<br>         /* Debug Interrupt Clears (DCLRCE) : Disabled    */<br>         /* Critical Interrupt Clears : Disabled    */<br>         /* Machine Check Interrupt Clears : Disabled    */<br>         /* Debug APU : Disabled    */<br>         /* Interrupt Inputs Clear Reservation : Disabled    */<br>         /* Machine Check Exception : Disabled          */<br><br><br><br>}<br><br> <br>/*<br> *######################################################################<br> *                           End of File<br> *######################################################################<br>*/<br><br></pre></BODY></HTML>
