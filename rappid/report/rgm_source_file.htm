<HTML>
<pre>/*<br> *######################################################################<br> *                                RAppIDJDP<br> *           Rapid Application Initialization and Documentation Tool<br> *                         Freescale Semiconductor Inc.<br> *<br> *######################################################################<br> *<br> * Project Name           : fsae_main_controller<br> *<br> * Project File           : fsae_main_controller.rsp<br> *<br> * Revision Number        : 1.0<br> *<br> * Tool Version           : 1.3.1.6<br> *<br> * file                   : rgm_init.c<br> *<br> * Target Compiler        : Codewarrior<br> *<br> * Target Part            : MPC5604B<br> *<br> * Part Errata Fixes      : none<br> *<br> * Project Last Save Date : 06-Jun-2013 02:49:54<br> *<br> * Created on Date        : 06-Jun-2013 02:49:57<br> *<br> * Brief Description      : MC_RGM module initialization.<br> *<br> ******************************************************************************** <br> *<br> * Detail Description     : This File contains function definitions to initialize<br> *                         RGM module. The module provides the register interface to<br> *                         monitor and control the device reset sequence.<br> *                         The configuration function will setup the RGM to enable/disable<br> *                         different reset sources, generate interrupt/SAFE mode request <br> *                         and also control the reset state machine.<br> *<br> ******************************************************************************** <br> *<br> *######################################################################<br>*/<br><br> <br> <br>/********************  Dependent Include files here **********************/<br><br>#include "rgm_init.h"<br>#include "rappid_ref.h"<br><br>/******************************************************************************<br>* External objects<br>******************************************************************************/<br><br><br>/******************************************************************************<br>* Global variables<br>******************************************************************************/<br><br><br>/******************************************************************************<br>* Constants and macros<br>******************************************************************************/<br><br><br>/******************************************************************************<br>* Local types<br>******************************************************************************/<br><br><br>/******************************************************************************<br>* Local function prototypes<br>******************************************************************************/<br><br><br>/******************************************************************************<br>* Local variables<br>******************************************************************************/<br><br><br>/******************************************************************************<br>* Local functions<br>******************************************************************************/<br><br><br>/******************************************************************************<br>* Global functions<br>******************************************************************************/<br><br><br><br><br>/*********************  Initialization Function(s) ************************/<br><br>void rgm_init_fnc (void)<br>{<br><br>    RGM.FES.R = 0x81FF;<br>        /* Clear all functional reset source */<br><br>/*----------------------------------------------------------------*/<br>/*  MC_RGM Functional Event Alternate Request Register (RGM_FEAR) */<br>/*----------------------------------------------------------------*/<br>    RGM.FEAR.R = 0x0000;<br>        /* Code or data flash fatal error: SAFE mode request to ME */<br>        /* 4.5V low-voltage detected: SAFE mode request to ME */<br>        /* CMU0 clock frequency higher/lower than reference: SAFE mode request to ME */<br>        /* Oscillator frequency lower than reference: SAFE mode request to ME */<br>        /* PLL0 fail: SAFE mode request to ME */<br>        /* Core reset: SAFE mode request to ME */<br>        /* JTAG initiated reset: SAFE mode request to ME */<br><br>/*----------------------------------------------------------------*/<br>/*  MC_RGM Functional Event Short Sequence Register (RGM_FESS)   */<br>/*----------------------------------------------------------------*/<br>    RGM.FESS.R = 0x0000;<br>        /* Code or data flash fatal error : Start reset sequence from Phase1*/<br>        /* 4.5V low-voltage detected : Start reset sequence from Phase1*/<br>        /* CMU0 clock frequency higher/lower than reference : Start reset sequence from Phase1*/<br>        /* Oscillator frequency lower than reference : Start reset sequence from Phase1*/<br>        /* PLL0 fail : Start reset sequence from Phase1*/<br>        /* Core reset : Start reset sequence from Phase1*/<br>        /* JTAG initiated reset : Start reset sequence from Phase1*/<br><br>/*----------------------------------------------------------------*/<br>/*  MC_RGM STANDBY0 Reset Sequence Register (RGM_STDBY)            */<br>/*----------------------------------------------------------------*/<br>    RGM.STDBY.R = 0x0000;<br>        /* System Boot Control :Boot from flash on STANDBY0 exit*/<br>        <br>/*----------------------------------------------------------------*/<br>/*  MC_RGM Functional Bidirectional Reset Enable Register (RGM_FBRE)   */<br>/*----------------------------------------------------------------*/<br>    RGM.FBRE.R = 0x0000;<br>        /* Code or data flash fatal error: External Reset asserted*/<br>        /* 4.5V low-voltage detected: External Reset asserted*/<br>        /* CMU0 clock frequency higher/lower than reference: External Reset asserted*/<br>        /* Oscillator frequency lower than reference: External Reset asserted*/<br>        /* PLL0 fail: External Reset asserted*/<br>        /* Core reset: External Reset asserted*/<br>        /* JTAG initiated reset: External Reset asserted*/<br><br>/*----------------------------------------------------------------*/<br>/*  MC_RGM Functional Event Reset Disable Register (RGM_FERD)   */<br>/*----------------------------------------------------------------*/<br>    RGM.FERD.R = 0x0000;<br>        /* Code or data flash fatal error: Enable reset sequence */<br>        /* 4.5V low-voltage detected: Enable reset sequence */<br>        /* CMU0 clock frequency higher/lower than reference: Enable reset sequence */<br>        /* Oscillator frequency lower than reference: Enable reset sequence */<br>        /* PLL0 fail: Enable reset sequence */<br>        /* Core reset: Enable reset sequence */<br>        /* JTAG initiated reset: Enable reset sequence */<br><br><br>}<br><br> <br>/*<br> *######################################################################<br> *                           End of File<br> *######################################################################<br>*/<br><br></pre></BODY></HTML>
