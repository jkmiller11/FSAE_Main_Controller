<HTML>
<pre>/*<br> *######################################################################<br> *                                RAppIDJDP<br> *           Rapid Application Initialization and Documentation Tool<br> *                         Freescale Semiconductor Inc.<br> *<br> *######################################################################<br> *<br> * Project Name           : fsae_main_controller<br> *<br> * Project File           : fsae_main_controller.rsp<br> *<br> * Revision Number        : 1.0<br> *<br> * Tool Version           : 1.3.1.6<br> *<br> * file                   : ecc_init.inc<br> *<br> * Target Compiler        : Codewarrior<br> *<br> * Target Part            : MPC5604B<br> *<br> * Part Errata Fixes      : none<br> *<br> * Project Last Save Date : 06-Jun-2013 02:49:54<br> *<br> * Created on Date        : 06-Jun-2013 02:49:57<br> *<br> * Brief Description      : This File contain SRAM initialization and Configuration for ECC<br> *<br> ******************************************************************************** <br> *<br> * Detail Description     : This File contains the code for SRAM initialization<br> *                         based on GPR/user defined values.It configures ECC<br> *                         Configuration Register which is a control register<br> *                         for specifying which types of memory errors are reported<br> *<br> ******************************************************************************** <br> *<br> *######################################################################<br>*/<br><br> <br> <br><br><br>#  ----------------------------------------------------------- <br>#  ECSM_ECR Register (Set to value 00000000)                  <br>#----------------------------------------------------------- <br>    e_lis   r11, 0x4000<br>    e_or2i  r11, 0<br>#              base address of the L2SRAM, 64-bit word aligned<br>    e_li    r12, 256<br>    mtctr r12<br>#              loop counter to get all of L2SRAM;<br>loop:<br>    e_stmw  r0, 0(r11)<br>    e_addi  r11, r11, 128<br>#             Write all 32 GPRs to L2SRAM; 32 GPRs * 4 bytes = 128<br>    e_bdnz  loop<br>#             Loop for 32k of L2SRAM<br><br>    e_lis   r11, 0xFFF4<br>    e_or2i  r11, 0x0043<br>#             Load ECSM Configuration Reg address<br>    e_lis   r12, 0x0000<br>    e_or2i   r12, 0x0000<br>    e_stb   r12, 0 (r11)<br>#             ECC RAM non-correction error report disabled<br>#             ECC FLASH non-correction error report disabled<br>#             Reporting of single-bit RAM corrections disabled<br>#             Reporting of single-bit flash corrections disabled<br><br> <br>/*<br> *######################################################################<br> *                           End of File<br> *######################################################################<br>*/<br><br></pre></BODY></HTML>
